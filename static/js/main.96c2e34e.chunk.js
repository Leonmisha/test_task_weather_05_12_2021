(this.webpackJsonptest_task_weather_05_12_2021=this.webpackJsonptest_task_weather_05_12_2021||[]).push([[0],{21:function(e,t,c){e.exports={container:"Weather_container__2K4Ve",topPanel:"Weather_topPanel__9rs02",sign:"Weather_sign__1X3nM",bottomPanel:"Weather_bottomPanel__EDeao",slider:"Weather_slider__1aY7t",customMode:"Weather_customMode__3d4hb",search:"Weather_search__2Q_h_",searchIcon:"Weather_searchIcon__16iDn"}},6:function(e,t,c){e.exports={container:"Search_container__2q3Zj",title:"Search_title__19mJ6",search:"Search_search__1wpzq",searchInput:"Search_searchInput__e-Xyt",searchButton:"Search_searchButton__2woiw",list:"Search_list__aXOf1",listItem:"Search_listItem__22Zml",itemRow:"Search_itemRow__1dl3o",itemWeatherIcon:"Search_itemWeatherIcon__1dkCt",itemName:"Search_itemName__1IHCI",itemDescription:"Search_itemDescription__2WrKh",itemTemparature:"Search_itemTemparature__EQe9K",itemCoords:"Search_itemCoords__2aDID",list_nothing:"Search_list_nothing__246HQ"}},85:function(e,t,c){},86:function(e,t,c){"use strict";c.r(t);var n,a,r,s=c(3),i=c(31),o=c.n(i),u=c(8),l=c(26),j=c(52),b=c(9),m=c(5),O=c(88),h=c(87),d=Object(h.a)({initializeApp:function(){},setInit:function(e){return e}}),p=d.initializeApp,f=d.setInit,x=Object(O.a)(Object(b.a)({},f,(function(e,t){var c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{init:c})})),{init:!1}),g=Object(h.a)({setCoords:function(e){return e},setLocationName:function(e){return e}}),v=g.setCoords,_=g.setLocationName,A=Object(O.a)((n={},Object(b.a)(n,v,(function(e,t){var c=t.payload,n=c.latitude,a=c.longitude;return Object(m.a)(Object(m.a)({},e),{},{latitude:n,longitude:a})})),Object(b.a)(n,_,(function(e,t){var c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{name:c})})),n),{name:"",latitude:0,longitude:0}),C=Object(h.a)({setCurrent:function(e){return e},setCustomTemparature:function(e){return e},setIsCustom:function(e){return e}}),y=C.setCurrent,I=C.setCustomTemparature,w=C.setIsCustom,N={current:null,currentCustom:{main:{temp:-10},name:"Custom(testing)",weather:[{description:"snow",icon:"https://openweathermap.org/img/wn/13n@2x.png"}]},isCustom:!1},R=Object(O.a)((a={},Object(b.a)(a,y,(function(e,t){var c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{current:c})})),Object(b.a)(a,I,(function(e,t){var c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{currentCustom:Object(m.a)(Object(m.a)({},e.currentCustom),{},{main:{temp:c}})})})),Object(b.a)(a,w,(function(e,t){var c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{isCustom:c})})),a),N),S=Object(h.a)({setPage:function(e){return e}}).setPage,k="SEARCH",B="WEATHER",E={page:B},K=Object(O.a)(Object(b.a)({},S,(function(e,t){var c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{page:c})})),E),G=Object(h.a)({startSearch:function(){},setResults:function(e){return e},setQueryString:function(e){return e},setIsSearching:function(e){return e}}),W=G.startSearch,D=G.setResults,Q=G.setQueryString,F=G.setIsSearching,Z=Object(O.a)((r={},Object(b.a)(r,F,(function(e,t){var c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{isSearching:c})})),Object(b.a)(r,D,(function(e,t){var c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{results:c})})),Object(b.a)(r,Q,(function(e,t){var c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{queryString:c})})),r),{queryString:"",isSearching:!1,results:null}),M=Object(l.b)({bootstrap:x,geolocation:A,weather:R,router:K,search:Z}),Y=c(11),P=c.n(Y),L=c(49),q=c(7),H=c(90),U=c(39),V=c.n(U),X="47c253bb3ccf9c30b586c9c0a4c21f68",J="//api.openweathermap.org/data/2.5",T=function(e,t){return V.a.get("".concat(J,"/weather?lat=").concat(e,"&lon=").concat(t,"&appid=").concat(X,"&units=metric"))},z=function(e){return V.a.get("".concat(J,"/find?q=").concat(e,"&appid=").concat(X,"&units=metric"))},$=function(e){return Object(m.a)(Object(m.a)({},e),{},{sys:Object(m.a)(Object(m.a)({},e.sys),{},{countryIcon:"http://openweathermap.org/images/flags/".concat(e.sys.country.toLowerCase(),".png")}),weather:e.weather.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{icon:"https://openweathermap.org/img/wn/".concat(e.icon,"@2x.png")})}))})},ee=function(){return new Promise((function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t):t()}))},te=P.a.mark((function e(){var t,c,n,a,r,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(q.b)(ee);case 3:return t=e.sent,c=t.coords,n=c.latitude,a=c.longitude,e.next=9,Object(q.c)(v({latitude:n,longitude:a}));case 9:return e.next=11,Object(q.b)(T,n,a);case 11:if(200!==(r=e.sent).status){e.next=18;break}return s=$(r.data),e.next=16,Object(q.c)(_(s.name));case 16:return e.next=18,Object(q.c)(y(s));case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(0);case 22:case"end":return e.stop()}}),e,null,[[0,20]])})),ce=P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.e)(p);case 2:return e.next=4,Object(H.a)(te);case 4:return e.next=6,Object(q.c)(f(!0));case 6:case"end":return e.stop()}}),e)})),ne=c(13),ae=c(89),re=function(e){return e.search},se=Object(ne.a)(re,ae.a("queryString")),ie=Object(ne.a)(re,ae.a("isSearching")),oe=Object(ne.a)(re,ae.a("results")),ue=P.a.mark((function e(){var t,c,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(q.e)(W);case 3:return e.next=5,Object(q.c)(F(!0));case 5:return e.next=7,Object(q.d)(se);case 7:return t=e.sent,e.prev=8,e.next=11,Object(q.b)(z,t);case 11:if(200!==(c=e.sent).status){e.next=18;break}return n=c.data.list.map($),e.next=16,Object(q.c)(D(n));case 16:e.next=20;break;case 18:return e.next=20,Object(q.c)(D(null));case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(8),e.next=26,Object(q.c)(D(null));case 26:return e.next=28,Object(q.c)(F(!1));case 28:e.next=0;break;case 30:case"end":return e.stop()}}),e,null,[[8,22]])})),le=P.a.mark(je);function je(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)([ce(),ue()]);case 2:case"end":return e.stop()}}),le)}var be=Object(j.a)(),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,Oe=Object(l.d)(M,me(Object(l.a)(be)));be.run(je);var he=Oe,de=Object(ne.a)((function(e){return e.router}),ae.a("page")),pe=function(e){return e.weather},fe=Object(ne.a)(pe,ae.a("current")),xe=Object(ne.a)(pe,ae.a("currentCustom")),ge=Object(ne.a)(pe,ae.a("isCustom")),ve=function(e){return parseInt(e,16)},_e=function(e){return e.toString(16)},Ae=function(e){return{R:ve(e.slice(1,3)),G:ve(e.slice(3,5)),B:ve(e.slice(5,7))}},Ce=function(e){var t=e.R,c=e.G,n=e.B;return"#"+("0"+_e(t)).slice(-2)+("0"+_e(c)).slice(-2)+("0"+_e(n)).slice(-2)},ye=function(e){var t,c,n=Number(e),a={celcius:-10,RGB:Ae("#00ffff")},r={celcius:30,RGB:Ae("#ff8c00")},s={celcius:10,RGB:Ae("#fff700")};if(n<=a.celcius)return Ce(a.RGB);if(n>=r.celcius)return Ce(r.RGB);if(n===s.celcius)return Ce(s.RGB);n<s.celcius?(t=a,c=s):(t=s,c=r);var i=(-t.celcius+n)/(c.celcius-t.celcius),o=["R","G","B"].reduce((function(e,n){return e[n]=Math.round(t.RGB[n]+i*(c.RGB[n]-t.RGB[n])),e}),{});return Ce(o)},Ie=c(21),we=c.n(Ie),Ne=c(2),Re=function(){var e=Object(u.c)(fe),t=Object(u.c)(xe),c=Object(u.c)(ge),n=Object(u.b)();Object(s.useEffect)((function(){n(w(!e))}),[n,e]);var a=c||!e?t:e;return Object(Ne.jsxs)("div",{className:we.a.container,style:{backgroundColor:ye(a.main.temp),backgroundImage:"url(".concat(a.weather[0].icon,")")},children:[Object(Ne.jsxs)("div",{className:we.a.topPanel,children:[Object(Ne.jsx)("div",{className:we.a.search,children:Object(Ne.jsx)("img",{className:we.a.searchIcon,alt:"search",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAFAUlEQVR4Xu2aXSusbRTHL+8SYpgySKhxIIoSiaTxlvIBRBE+hM/ihFJyIEdGcWDUECdOZFJOTFNeahiS9/fn38zaujcee5a9r/sytX4ne63b2Lv5ta51rXW3k87OzpQQH8n0pxAHIouByGIgshiILAYii4HIYiCyGIgsBiKLgchiILIYiCwGIouByGIgshiILAYii4HIYiCyGIgsBiKLgchiILIYiCwGIouByGIgshiILAZm/hfNycnJ7u5uKBRCcHV19fLykpKSkpub63Q6Kyoqqqur8/Ly6KM/CbtlBYPB1dVVaKL8M5KSktxut8fjcblc9OhnYJ+s29tbr9cbCAQo/xNQ1tjY2NXVlZaWRo9MY5MsHLeZmZnz83PK46a4uHhgYCAnJ4dyo9ghC6ampqaur68p/wUUoEMVFBSkpqY+PDycnp7u7++jAOnHv3A4HGNjY9nZ2ZSbQ7ssfPmJiYl3NVVWVtbe3l5ZWYmzRo+iPD8/7+3toamFw2F6FKW0tHR0dBSXAOWG0C5rbm7O2qfwhXt6etCM3mmygsvR5/Otr6+/vr7SI6VaW1vRvygxhN45C3ffO1P9/f1NTU1fmALJycmdnZ19fX2UR9nc3IxEIpQYQq8sHCiKoqCmqqqqKPkTDQ0Nzc3NlERPqN/vp8QQGmWhr1vnKfQpnD5K4gP1he5OiVIo0ru7O0pMoFEWZnSKoqCjf336PoJbsqWlhRKlnp6e0P4pMYFGWdaywpSAu48SDrW1tdZL8OvRXzd6jyFFSmGe4pZVjIyMjJKSEkqUMtvjNcrChkyRUpg8KeKTn59PkVIXFxcUmUCjLIxLFCn1N/sdOhdF0TuRIhNolGXtNff39xTxeXx8pOh3cfajUVZubi5FSmHvo4iP9XfNvufSKMvpdFKkFDbk750grN/Hx8eU/P532o9GWbgBKYqu098bkba3t60bYnl5OUUm0CirurraOi5g9bG2/HjAvI51mhKlMjMz3W43JSbQKAv9xfrdwuGwz+ejJA5QUF6v1/oWrL6+3uxbU42ygMfjsRYXymRra4uSL4GplZWVnZ0dypVKT0+3rj5G0CvL5XJZl2coWFhYWFpawpZHjz4Dp29+fn5tbY3yKB0dHcZfLmt/+YcpaXJy8ujoiPIoDocDZYK9D9sMPYqCQ4eOjgJ89w4ax3lwcPB7C9M/xI538JeXl/D18R/C1Iq9D9sMRk04xTyFKcF6972RlZVVU1ODz7e1tSGmp7ZjhyyAPXF2dvbg4IDyuEFNHR4e3tzcxNKioqLh4WFTvlLGx8cp1Anac11dHeZSfPNPa+cj+JXu7u7e3l4sz/it2ENIDwaDqDIje49NlfVGJBLx+/2BQOCLHo95ClMCmlqsoy8vL29sbMR+FAOHd2hoCB+j3C7slhUD9x0G+lAoBHcoHFQcKgVzGbYZzOg4etZ5Ch+enp5+K64YRnyZkcXlh/jSO2f9K2AEXqyvTAHcwSA8Uq6fxJAFfoKvhJEFjPtKJFnArK8EkwUM+ko8WeD/fC0uLlKih4SUBT76KiwsxMRPiR4SVRaw+oKpkZER3e9wEmMo/QL0KZw+1JQNb7sSXpadJPAxtB+RxUBkMRBZDEQWA5HFQGQxEFkMRBYDkcVAZDEQWQxEFgORxUBkMRBZDEQWA5HFQGQxEFkMRBYDkcVAZDEQWQxEFgORxUBkMRBZDEQWA5EVN0r9BzKfARWd2rO3AAAAAElFTkSuQmCC",onClick:function(){return n(S(k))}})}),Object(Ne.jsxs)("div",{className:we.a.sign,children:[a.name,": ",a.main.temp," \xb0C"]})]}),Object(Ne.jsxs)("div",{className:we.a.bottomPanel,children:[c&&Object(Ne.jsx)("div",{className:we.a.sliderContainer,children:Object(Ne.jsx)("input",{className:we.a.slider,type:"range",min:-20,max:40,value:a.main.temp,onInput:function(e){return n(I(e.target.value))}})}),e&&Object(Ne.jsx)("button",{className:we.a.customMode,onClick:function(){return n(w(!c))},children:c?"Go to real mode":"Go to custom mode"})]})]})},Se=c(6),ke=c.n(Se),Be=c(50),Ee=c(51),Ke=c.n(Ee),Ge=function(){var e=Object(u.b)(),t=Object(u.c)(oe);if(!t||0===t.length)return Object(Ne.jsx)("div",{className:Ke()(ke.a.list,ke.a.list_nothing),children:"There is nothing to see"});var c=function(){var t=Object(Be.a)(P.a.mark((function t(c,n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(y(n)),e(S(B));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}();return Object(Ne.jsx)("div",{className:ke.a.list,children:t.map((function(e){return Object(Ne.jsxs)("div",{className:ke.a.listItem,onClick:function(t){return c(t,e)},children:[Object(Ne.jsx)("div",{children:Object(Ne.jsx)("img",{className:ke.a.itemWeatherIcon,alt:"weather-icon",src:e.weather[0].icon})}),Object(Ne.jsxs)("div",{className:ke.a.itemMeta,children:[Object(Ne.jsxs)("div",{className:ke.a.itemRow,children:[Object(Ne.jsxs)("div",{className:ke.a.itemName,children:[e.name,", ",e.sys.country]}),Object(Ne.jsx)("div",{children:Object(Ne.jsx)("img",{className:ke.a.itemCountryIcon,alt:"country-icon",src:e.sys.countryIcon})}),Object(Ne.jsx)("div",{className:ke.a.itemDescription,children:e.weather[0].description})]}),Object(Ne.jsxs)("div",{className:ke.a.itemRow,children:[Object(Ne.jsxs)("div",{className:ke.a.itemTemparature,children:[e.main.temp," \xb0C"]}),Object(Ne.jsxs)("div",{className:ke.a.itemDetailedTemparature,children:[" temperature from ",e.main.temp_min," to ",e.main.temp_max," \xb0\u0421, wind ",e.wind.speed," m/s. clouds ",e.clouds.all," %"]})]}),Object(Ne.jsxs)("div",{className:ke.a.itemRow,children:[Object(Ne.jsx)("div",{children:"Geo coords"}),Object(Ne.jsxs)("span",{className:ke.a.itemCoords,children:[" [",e.coord.lat,", ",e.coord.lon,"]"]})]})]})]},e.id)}))})},We=function(){var e=Object(u.b)(),t=Object(u.c)(se),c=Object(u.c)(ie),n=function(){!c&&t&&e(W())};return Object(Ne.jsxs)("div",{className:ke.a.container,children:[Object(Ne.jsx)("div",{className:ke.a.title,children:"Weather in your city"}),Object(Ne.jsxs)("div",{className:ke.a.search,children:[Object(Ne.jsx)("input",{className:ke.a.searchInput,value:t,onChange:function(t){return e(Q(t.target.value))},onKeyDown:function(e){return"Enter"===e.key&&n()}}),Object(Ne.jsx)("button",{disabled:c,className:ke.a.searchButton,onClick:n,children:"Search"})]}),Object(Ne.jsx)(Ge,{})]})},De=function(){var e=Object(u.c)(de);return Object(Ne.jsxs)(Ne.Fragment,{children:[e===B&&Object(Ne.jsx)(Re,{}),e===k&&Object(Ne.jsx)(We,{})]})},Qe=Object(ne.a)((function(e){return e.bootstrap}),ae.a("init")),Fe=function(e){var t=e.children,c=Object(u.c)(Qe),n=Object(u.b)();return Object(s.useEffect)((function(){n(p())}),[n]),c&&t},Ze=function(){return Object(Ne.jsx)(u.a,{store:he,children:Object(Ne.jsx)(Fe,{children:Object(Ne.jsx)(De,{})})})};c(85);o.a.render(Object(Ne.jsx)(Ze,{}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.96c2e34e.chunk.js.map